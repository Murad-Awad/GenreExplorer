<!doctype html>
<html>
<head>
    <title>Example of the Authorization Code flow with Spotify</title>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <style type="text/css">
        #login, #loggedin {
            display: none;
        }

        .text-overflow {
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            width: 500px;
        }
    </style>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
</head>

<body>
    <div class="container text-center">
        <div id="login">

            <h1>This is an example of the Authorization Code flow</h1>
            <a href="/login" class="btn btn-primary btn-lg btn-block">Log in with Spotify</a>
        </div>
        <div id="loggedin">
            <div id="user-profile">
            </div>
            <div id="oauth">
            </div>
            <button class="btn btn-default" id="obtain-new-token">Obtain new token using the refresh token</button>
        </div>
        <div id="genreExplorer">
            <div class="container">
                <form id="important">
                    <input type="text" placeholder="What song do you like?" id="songtext" />
                    <button class="btn btn-default" id="search">Search</button>
                </form>
               <div id="results"></div>
            </div>
           
        </div>
        <div id="newSongs"></div>
        <button class="btn btn-default" title="Don't click unless logged in!" onclick="getTracks()" id="getSongs">Find Music</button>
      </div>
    
    <script id="user-profile-template" type="text/x-handlebars-template">
        <h1>Welcome {{display_name}}!</h1>
        <div class="media">
            <div class="pull-left">
                <img class="media-object" width="150" src="{{images.0.url}}" />
            </div>
        </div>
    </script>

    <script id="oauth-template" type="text/x-handlebars-template">

    </script>
    <script id="results-template" type="text/x-handlebars-template">
        {{#each tracks.items}}
        <button class="btn btn-default" id="song" songid="{{name}}" artistid="{{artists.0.id}}" artistname= "{{artists.0.name}}" song-data-id="{{id}}">{{name}} By {{artists.0.name}}</button>
        
        {{/each}}
    </script>
    <script id="genreExplorer-template" type="text/x-handlebars">
        <div class="container">
            <div class="jumbotron">
            <h2>{{title}} By {{artist}}</h2>
            <form>
                <input type="text" class="form-control"placeholder="What genre would you like to explore?" id="genre" size="31" />
            </form>
                </div>
        </div>
    </script>
    <script id="getsongs-template" type="text/x-handlebars-template">
        <div class="container">
            <div class="jumbotron">
            <div class="list-group">
                {{#each tracks}}
        <a class="list-group-item" href="https://play.spotify.com/track/{{id}}" id="song" songid="{{name}}" artistid="{{artists.0.id}}" artistname="{{artists.0.name}}" song-data-id="{{id}}"> <b>{{name}} </b> by <i>{{artists.0.name}} </i></a>
                {{/each}}
            </div>
        </div>
            </div>
    </script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/handlebars.js/2.0.0-alpha.1/handlebars.min.js"></script>
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
   <script src="Backend.js"></script>
    <style>
     .cover {
    width: 300px;
    height: 300px;
    display: inline-block;
    background-size: cover;
}
    </style>
</body>
</html>